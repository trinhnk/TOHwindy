W.tag("poi-libs", "", ".pois-metars [data-id]::before{content:' ';display:block;border-radius:1em;width:calc(1em - 2px);height:calc(1em - 2px);border:1px solid}.overlay-satellite .pois-metars [data-id]::before,.overlay-radar .pois-metars [data-id]::before{border-width:1.5px}.pois-metars [data-id].rulesU{color:#c1c1c1}.pois-metars [data-id].rulesU:hover::before{background-color:#c1c1c1}.pois-metars [data-id].rulesV{color:#27DD27}.pois-metars [data-id].rulesV:hover::before{background-color:#27DD27}.pois-metars [data-id].rulesI{color:#B23B3B}.pois-metars [data-id].rulesI:hover::before{background-color:#B23B3B}.pois-metars [data-id].rulesM{color:#4040FA}.pois-metars [data-id].rulesM:hover::before{background-color:#4040FA}.pois-metars [data-id].rulesL{color:#ff9eae}.pois-metars [data-id].rulesL:hover::before{background-color:#ff9eae}.zoom4 .pois-metars [data-id]{font-size:4px}.zoom5 .pois-metars [data-id]{font-size:6px}.zoom6 .pois-metars [data-id]{font-size:9px}.zoom7 .pois-metars [data-id]{font-size:11px}.zoom8 .pois-metars [data-id]{font-size:13px}.pois-cities [data-id],.pois-stations [data-id],.labels-layer [data-id] .label-wx{white-space:nowrap;width:inherit;height:calc( 2em + 2px );border-radius:1em}.pois-cities [data-id] .iconfont,.pois-stations [data-id] .iconfont,.labels-layer [data-id] .label-wx .iconfont{pointer-events:none;display:inline-block;border-radius:1em;width:1em;height:1em;margin-right:1.5px;text-align:center}.pois-cities [data-id]::after,.pois-stations [data-id]::after,.labels-layer [data-id] .label-wx::after{pointer-events:none;font-size:11px;content:attr(data-value);display:inline-block;padding-right:5px;padding-left:3px;position:relative}.pois-cities [data-id].poi-has-wind::after,.pois-stations [data-id].poi-has-wind::after,.labels-layer [data-id] .label-wx.poi-has-wind::after{top:-2px}.labels-layer [data-id] .label-wx{position:absolute;display:block;left:50%;top:100%;transform:translate(-50%, 0);line-height:1;font-size:11px;padding:.1em .3em;border-radius:1em;margin-top:-3px;width:auto;height:auto}.pois-cities [data-id]:hover::before,.zoom11 .pois-cities [data-id]::before,.zoom12 .pois-cities [data-id]::before,.zoom13 .pois-cities [data-id]::before,.zoom14 .pois-cities [data-id]::before,.zoom15 .pois-cities [data-id]::before{position:absolute;background:none;color:#ffe29c;font-size:10px;white-space:nowrap;content:attr(data-text);top:3px;left:calc( 100% + 3px )}.metars-popup{max-width:220px}.metars-popup p{margin:0 0 .35em 0}.metars-popup .adtypeV::after,.metars-popup .adtypeL::after,.metars-popup .adtypeM::after,.metars-popup .adtypeI::after,.metars-popup .adtypeU::after{font-size:9px;padding:0 2px}.pois-tide [data-id]{animation:none;font-size:18px}.pois-tide [data-id] div{border-radius:1.4em;color:white;pointer-events:none;text-align:center;width:1.4em;height:1.4em;padding-top:.15em;border:.5px solid white;line-height:1;margin-top:-0.2em;margin-left:-0.2em}.zoom4 .pois-tide [data-id]{font-size:8px}.zoom5 .pois-tide [data-id]{font-size:8px}.zoom6 .pois-tide [data-id]{font-size:8px}.zoom7 .pois-tide [data-id]{font-size:9px}.zoom8 .pois-tide [data-id]{font-size:10px}.zoom9 .pois-tide [data-id]{font-size:12px}.zoom10 .pois-tide [data-id]{font-size:14px}.zoom11 .pois-tide [data-id]{font-size:16px}.tide-line{padding:5px 10px;text-align:center}.tide-line b{display:block;width:100%;text-align:center;font-weight:normal;font-size:1.8em}.tide-line.tide-type-LT{background:#6b572a}.tide-line.tide-type-HT{background:#3e6cbf}.tide-line.tide-type-SE,.tide-line.tide-type-SF{background:#006400}.tide-line.tide-type-MF,.tide-line.tide-type-ME{background:#af8212}.tide-popup{width:227px !important;max-width:227px !important;background-color:#4d4d4d;pointer-events:none;font-size:12px;border-radius:5px;padding-left:0;padding-right:0}.tide-popup .leaflet-popup-content{width:100% !important}.tide-popup header{font-size:1.2em;margin-bottom:5px;padding:0 .6em}.tide-popup small{margin-top:5px;display:block;padding:0 1em}.pois-surfspots [data-id],.pois-kitespots [data-id],.pois-firespots [data-id],.pois-pgspots [data-id]{color:#ffe29c;content:' ';border-radius:1em}.zoom4 .pois-surfspots [data-id],.zoom4 .pois-kitespots [data-id],.zoom4 .pois-firespots [data-id],.zoom4 .pois-pgspots [data-id],.zoom5 .pois-surfspots [data-id],.zoom5 .pois-kitespots [data-id],.zoom5 .pois-firespots [data-id],.zoom5 .pois-pgspots [data-id],.zoom6 .pois-surfspots [data-id],.zoom6 .pois-kitespots [data-id],.zoom6 .pois-firespots [data-id],.zoom6 .pois-pgspots [data-id],.zoom7 .pois-surfspots [data-id],.zoom7 .pois-kitespots [data-id],.zoom7 .pois-firespots [data-id],.zoom7 .pois-pgspots [data-id],.zoom8 .pois-surfspots [data-id],.zoom8 .pois-kitespots [data-id],.zoom8 .pois-firespots [data-id],.zoom8 .pois-pgspots [data-id],.zoom9 .pois-surfspots [data-id],.zoom9 .pois-kitespots [data-id],.zoom9 .pois-firespots [data-id],.zoom9 .pois-pgspots [data-id],.zoom10 .pois-surfspots [data-id],.zoom10 .pois-kitespots [data-id],.zoom10 .pois-firespots [data-id],.zoom10 .pois-pgspots [data-id],.zoom11 .pois-surfspots [data-id],.zoom11 .pois-kitespots [data-id],.zoom11 .pois-firespots [data-id],.zoom11 .pois-pgspots [data-id],.zoom12 .pois-surfspots [data-id],.zoom12 .pois-kitespots [data-id],.zoom12 .pois-firespots [data-id],.zoom12 .pois-pgspots [data-id],.zoom13 .pois-surfspots [data-id],.zoom13 .pois-kitespots [data-id],.zoom13 .pois-firespots [data-id],.zoom13 .pois-pgspots [data-id],.zoom14 .pois-surfspots [data-id],.zoom14 .pois-kitespots [data-id],.zoom14 .pois-firespots [data-id],.zoom14 .pois-pgspots [data-id],.zoom15 .pois-surfspots [data-id],.zoom15 .pois-kitespots [data-id],.zoom15 .pois-firespots [data-id],.zoom15 .pois-pgspots [data-id],.zoom16 .pois-surfspots [data-id],.zoom16 .pois-kitespots [data-id],.zoom16 .pois-firespots [data-id],.zoom16 .pois-pgspots [data-id],.zoom17 .pois-surfspots [data-id],.zoom17 .pois-kitespots [data-id],.zoom17 .pois-firespots [data-id],.zoom17 .pois-pgspots [data-id],.zoom18 .pois-surfspots [data-id],.zoom18 .pois-kitespots [data-id],.zoom18 .pois-firespots [data-id],.zoom18 .pois-pgspots [data-id]{text-shadow:0 0 4px black}.pois-firespots [data-id].spot-rank-0,.pois-pgspots [data-id].spot-rank-0,.pois-surfspots [data-id].spot-rank-0,.pois-kitespots [data-id].spot-rank-0,.pois-firespots [data-id].spot-rank-1,.pois-pgspots [data-id].spot-rank-1,.pois-surfspots [data-id].spot-rank-1,.pois-kitespots [data-id].spot-rank-1{color:#d8cbac}.zoom4 .pois-firespots [data-id].spot-rank-0,.zoom4 .pois-pgspots [data-id].spot-rank-0,.zoom4 .pois-surfspots [data-id].spot-rank-0,.zoom4 .pois-kitespots [data-id].spot-rank-0,.zoom4 .pois-firespots [data-id].spot-rank-1,.zoom4 .pois-pgspots [data-id].spot-rank-1,.zoom4 .pois-surfspots [data-id].spot-rank-1,.zoom4 .pois-kitespots [data-id].spot-rank-1,.zoom5 .pois-firespots [data-id].spot-rank-0,.zoom5 .pois-pgspots [data-id].spot-rank-0,.zoom5 .pois-surfspots [data-id].spot-rank-0,.zoom5 .pois-kitespots [data-id].spot-rank-0,.zoom5 .pois-firespots [data-id].spot-rank-1,.zoom5 .pois-pgspots [data-id].spot-rank-1,.zoom5 .pois-surfspots [data-id].spot-rank-1,.zoom5 .pois-kitespots [data-id].spot-rank-1,.zoom6 .pois-firespots [data-id].spot-rank-0,.zoom6 .pois-pgspots [data-id].spot-rank-0,.zoom6 .pois-surfspots [data-id].spot-rank-0,.zoom6 .pois-kitespots [data-id].spot-rank-0,.zoom6 .pois-firespots [data-id].spot-rank-1,.zoom6 .pois-pgspots [data-id].spot-rank-1,.zoom6 .pois-surfspots [data-id].spot-rank-1,.zoom6 .pois-kitespots [data-id].spot-rank-1,.zoom7 .pois-firespots [data-id].spot-rank-0,.zoom7 .pois-pgspots [data-id].spot-rank-0,.zoom7 .pois-surfspots [data-id].spot-rank-0,.zoom7 .pois-kitespots [data-id].spot-rank-0,.zoom7 .pois-firespots [data-id].spot-rank-1,.zoom7 .pois-pgspots [data-id].spot-rank-1,.zoom7 .pois-surfspots [data-id].spot-rank-1,.zoom7 .pois-kitespots [data-id].spot-rank-1{font-size:.6em;text-shadow:none}.zoom8 .pois-firespots [data-id].spot-rank-0,.zoom8 .pois-pgspots [data-id].spot-rank-0,.zoom8 .pois-surfspots [data-id].spot-rank-0,.zoom8 .pois-kitespots [data-id].spot-rank-0,.zoom8 .pois-firespots [data-id].spot-rank-1,.zoom8 .pois-pgspots [data-id].spot-rank-1,.zoom8 .pois-surfspots [data-id].spot-rank-1,.zoom8 .pois-kitespots [data-id].spot-rank-1{font-size:.8em;text-shadow:none}.zoom9 .pois-firespots [data-id].spot-rank-0,.zoom9 .pois-pgspots [data-id].spot-rank-0,.zoom9 .pois-surfspots [data-id].spot-rank-0,.zoom9 .pois-kitespots [data-id].spot-rank-0,.zoom9 .pois-firespots [data-id].spot-rank-1,.zoom9 .pois-pgspots [data-id].spot-rank-1,.zoom9 .pois-surfspots [data-id].spot-rank-1,.zoom9 .pois-kitespots [data-id].spot-rank-1{text-shadow:none}.zoom10 .pois-firespots [data-id].spot-rank-0,.zoom10 .pois-pgspots [data-id].spot-rank-0,.zoom10 .pois-surfspots [data-id].spot-rank-0,.zoom10 .pois-kitespots [data-id].spot-rank-0,.zoom10 .pois-firespots [data-id].spot-rank-1,.zoom10 .pois-pgspots [data-id].spot-rank-1,.zoom10 .pois-surfspots [data-id].spot-rank-1,.zoom10 .pois-kitespots [data-id].spot-rank-1,.zoom11 .pois-firespots [data-id].spot-rank-0,.zoom11 .pois-pgspots [data-id].spot-rank-0,.zoom11 .pois-surfspots [data-id].spot-rank-0,.zoom11 .pois-kitespots [data-id].spot-rank-0,.zoom11 .pois-firespots [data-id].spot-rank-1,.zoom11 .pois-pgspots [data-id].spot-rank-1,.zoom11 .pois-surfspots [data-id].spot-rank-1,.zoom11 .pois-kitespots [data-id].spot-rank-1,.zoom12 .pois-firespots [data-id].spot-rank-0,.zoom12 .pois-pgspots [data-id].spot-rank-0,.zoom12 .pois-surfspots [data-id].spot-rank-0,.zoom12 .pois-kitespots [data-id].spot-rank-0,.zoom12 .pois-firespots [data-id].spot-rank-1,.zoom12 .pois-pgspots [data-id].spot-rank-1,.zoom12 .pois-surfspots [data-id].spot-rank-1,.zoom12 .pois-kitespots [data-id].spot-rank-1,.zoom13 .pois-firespots [data-id].spot-rank-0,.zoom13 .pois-pgspots [data-id].spot-rank-0,.zoom13 .pois-surfspots [data-id].spot-rank-0,.zoom13 .pois-kitespots [data-id].spot-rank-0,.zoom13 .pois-firespots [data-id].spot-rank-1,.zoom13 .pois-pgspots [data-id].spot-rank-1,.zoom13 .pois-surfspots [data-id].spot-rank-1,.zoom13 .pois-kitespots [data-id].spot-rank-1,.zoom14 .pois-firespots [data-id].spot-rank-0,.zoom14 .pois-pgspots [data-id].spot-rank-0,.zoom14 .pois-surfspots [data-id].spot-rank-0,.zoom14 .pois-kitespots [data-id].spot-rank-0,.zoom14 .pois-firespots [data-id].spot-rank-1,.zoom14 .pois-pgspots [data-id].spot-rank-1,.zoom14 .pois-surfspots [data-id].spot-rank-1,.zoom14 .pois-kitespots [data-id].spot-rank-1,.zoom15 .pois-firespots [data-id].spot-rank-0,.zoom15 .pois-pgspots [data-id].spot-rank-0,.zoom15 .pois-surfspots [data-id].spot-rank-0,.zoom15 .pois-kitespots [data-id].spot-rank-0,.zoom15 .pois-firespots [data-id].spot-rank-1,.zoom15 .pois-pgspots [data-id].spot-rank-1,.zoom15 .pois-surfspots [data-id].spot-rank-1,.zoom15 .pois-kitespots [data-id].spot-rank-1,.zoom16 .pois-firespots [data-id].spot-rank-0,.zoom16 .pois-pgspots [data-id].spot-rank-0,.zoom16 .pois-surfspots [data-id].spot-rank-0,.zoom16 .pois-kitespots [data-id].spot-rank-0,.zoom16 .pois-firespots [data-id].spot-rank-1,.zoom16 .pois-pgspots [data-id].spot-rank-1,.zoom16 .pois-surfspots [data-id].spot-rank-1,.zoom16 .pois-kitespots [data-id].spot-rank-1,.zoom17 .pois-firespots [data-id].spot-rank-0,.zoom17 .pois-pgspots [data-id].spot-rank-0,.zoom17 .pois-surfspots [data-id].spot-rank-0,.zoom17 .pois-kitespots [data-id].spot-rank-0,.zoom17 .pois-firespots [data-id].spot-rank-1,.zoom17 .pois-pgspots [data-id].spot-rank-1,.zoom17 .pois-surfspots [data-id].spot-rank-1,.zoom17 .pois-kitespots [data-id].spot-rank-1,.zoom18 .pois-firespots [data-id].spot-rank-0,.zoom18 .pois-pgspots [data-id].spot-rank-0,.zoom18 .pois-surfspots [data-id].spot-rank-0,.zoom18 .pois-kitespots [data-id].spot-rank-0,.zoom18 .pois-firespots [data-id].spot-rank-1,.zoom18 .pois-pgspots [data-id].spot-rank-1,.zoom18 .pois-surfspots [data-id].spot-rank-1,.zoom18 .pois-kitespots [data-id].spot-rank-1{font-size:1.2em}.pois-firespots [data-id].spot-rank-2,.pois-pgspots [data-id].spot-rank-2,.pois-surfspots [data-id].spot-rank-2,.pois-kitespots [data-id].spot-rank-2,.pois-firespots [data-id].spot-rank-3,.pois-pgspots [data-id].spot-rank-3,.pois-surfspots [data-id].spot-rank-3,.pois-kitespots [data-id].spot-rank-3{z-index:5}.zoom4 .pois-firespots [data-id].spot-rank-2,.zoom4 .pois-pgspots [data-id].spot-rank-2,.zoom4 .pois-surfspots [data-id].spot-rank-2,.zoom4 .pois-kitespots [data-id].spot-rank-2,.zoom4 .pois-firespots [data-id].spot-rank-3,.zoom4 .pois-pgspots [data-id].spot-rank-3,.zoom4 .pois-surfspots [data-id].spot-rank-3,.zoom4 .pois-kitespots [data-id].spot-rank-3,.zoom5 .pois-firespots [data-id].spot-rank-2,.zoom5 .pois-pgspots [data-id].spot-rank-2,.zoom5 .pois-surfspots [data-id].spot-rank-2,.zoom5 .pois-kitespots [data-id].spot-rank-2,.zoom5 .pois-firespots [data-id].spot-rank-3,.zoom5 .pois-pgspots [data-id].spot-rank-3,.zoom5 .pois-surfspots [data-id].spot-rank-3,.zoom5 .pois-kitespots [data-id].spot-rank-3,.zoom6 .pois-firespots [data-id].spot-rank-2,.zoom6 .pois-pgspots [data-id].spot-rank-2,.zoom6 .pois-surfspots [data-id].spot-rank-2,.zoom6 .pois-kitespots [data-id].spot-rank-2,.zoom6 .pois-firespots [data-id].spot-rank-3,.zoom6 .pois-pgspots [data-id].spot-rank-3,.zoom6 .pois-surfspots [data-id].spot-rank-3,.zoom6 .pois-kitespots [data-id].spot-rank-3,.zoom7 .pois-firespots [data-id].spot-rank-2,.zoom7 .pois-pgspots [data-id].spot-rank-2,.zoom7 .pois-surfspots [data-id].spot-rank-2,.zoom7 .pois-kitespots [data-id].spot-rank-2,.zoom7 .pois-firespots [data-id].spot-rank-3,.zoom7 .pois-pgspots [data-id].spot-rank-3,.zoom7 .pois-surfspots [data-id].spot-rank-3,.zoom7 .pois-kitespots [data-id].spot-rank-3{font-size:1em}.zoom8 .pois-firespots [data-id].spot-rank-2,.zoom8 .pois-pgspots [data-id].spot-rank-2,.zoom8 .pois-surfspots [data-id].spot-rank-2,.zoom8 .pois-kitespots [data-id].spot-rank-2,.zoom8 .pois-firespots [data-id].spot-rank-3,.zoom8 .pois-pgspots [data-id].spot-rank-3,.zoom8 .pois-surfspots [data-id].spot-rank-3,.zoom8 .pois-kitespots [data-id].spot-rank-3,.zoom9 .pois-firespots [data-id].spot-rank-2,.zoom9 .pois-pgspots [data-id].spot-rank-2,.zoom9 .pois-surfspots [data-id].spot-rank-2,.zoom9 .pois-kitespots [data-id].spot-rank-2,.zoom9 .pois-firespots [data-id].spot-rank-3,.zoom9 .pois-pgspots [data-id].spot-rank-3,.zoom9 .pois-surfspots [data-id].spot-rank-3,.zoom9 .pois-kitespots [data-id].spot-rank-3{font-size:1.2em}.zoom10 .pois-firespots [data-id].spot-rank-2,.zoom10 .pois-pgspots [data-id].spot-rank-2,.zoom10 .pois-surfspots [data-id].spot-rank-2,.zoom10 .pois-kitespots [data-id].spot-rank-2,.zoom10 .pois-firespots [data-id].spot-rank-3,.zoom10 .pois-pgspots [data-id].spot-rank-3,.zoom10 .pois-surfspots [data-id].spot-rank-3,.zoom10 .pois-kitespots [data-id].spot-rank-3,.zoom11 .pois-firespots [data-id].spot-rank-2,.zoom11 .pois-pgspots [data-id].spot-rank-2,.zoom11 .pois-surfspots [data-id].spot-rank-2,.zoom11 .pois-kitespots [data-id].spot-rank-2,.zoom11 .pois-firespots [data-id].spot-rank-3,.zoom11 .pois-pgspots [data-id].spot-rank-3,.zoom11 .pois-surfspots [data-id].spot-rank-3,.zoom11 .pois-kitespots [data-id].spot-rank-3,.zoom12 .pois-firespots [data-id].spot-rank-2,.zoom12 .pois-pgspots [data-id].spot-rank-2,.zoom12 .pois-surfspots [data-id].spot-rank-2,.zoom12 .pois-kitespots [data-id].spot-rank-2,.zoom12 .pois-firespots [data-id].spot-rank-3,.zoom12 .pois-pgspots [data-id].spot-rank-3,.zoom12 .pois-surfspots [data-id].spot-rank-3,.zoom12 .pois-kitespots [data-id].spot-rank-3,.zoom13 .pois-firespots [data-id].spot-rank-2,.zoom13 .pois-pgspots [data-id].spot-rank-2,.zoom13 .pois-surfspots [data-id].spot-rank-2,.zoom13 .pois-kitespots [data-id].spot-rank-2,.zoom13 .pois-firespots [data-id].spot-rank-3,.zoom13 .pois-pgspots [data-id].spot-rank-3,.zoom13 .pois-surfspots [data-id].spot-rank-3,.zoom13 .pois-kitespots [data-id].spot-rank-3,.zoom14 .pois-firespots [data-id].spot-rank-2,.zoom14 .pois-pgspots [data-id].spot-rank-2,.zoom14 .pois-surfspots [data-id].spot-rank-2,.zoom14 .pois-kitespots [data-id].spot-rank-2,.zoom14 .pois-firespots [data-id].spot-rank-3,.zoom14 .pois-pgspots [data-id].spot-rank-3,.zoom14 .pois-surfspots [data-id].spot-rank-3,.zoom14 .pois-kitespots [data-id].spot-rank-3,.zoom15 .pois-firespots [data-id].spot-rank-2,.zoom15 .pois-pgspots [data-id].spot-rank-2,.zoom15 .pois-surfspots [data-id].spot-rank-2,.zoom15 .pois-kitespots [data-id].spot-rank-2,.zoom15 .pois-firespots [data-id].spot-rank-3,.zoom15 .pois-pgspots [data-id].spot-rank-3,.zoom15 .pois-surfspots [data-id].spot-rank-3,.zoom15 .pois-kitespots [data-id].spot-rank-3,.zoom16 .pois-firespots [data-id].spot-rank-2,.zoom16 .pois-pgspots [data-id].spot-rank-2,.zoom16 .pois-surfspots [data-id].spot-rank-2,.zoom16 .pois-kitespots [data-id].spot-rank-2,.zoom16 .pois-firespots [data-id].spot-rank-3,.zoom16 .pois-pgspots [data-id].spot-rank-3,.zoom16 .pois-surfspots [data-id].spot-rank-3,.zoom16 .pois-kitespots [data-id].spot-rank-3,.zoom17 .pois-firespots [data-id].spot-rank-2,.zoom17 .pois-pgspots [data-id].spot-rank-2,.zoom17 .pois-surfspots [data-id].spot-rank-2,.zoom17 .pois-kitespots [data-id].spot-rank-2,.zoom17 .pois-firespots [data-id].spot-rank-3,.zoom17 .pois-pgspots [data-id].spot-rank-3,.zoom17 .pois-surfspots [data-id].spot-rank-3,.zoom17 .pois-kitespots [data-id].spot-rank-3,.zoom18 .pois-firespots [data-id].spot-rank-2,.zoom18 .pois-pgspots [data-id].spot-rank-2,.zoom18 .pois-surfspots [data-id].spot-rank-2,.zoom18 .pois-kitespots [data-id].spot-rank-2,.zoom18 .pois-firespots [data-id].spot-rank-3,.zoom18 .pois-pgspots [data-id].spot-rank-3,.zoom18 .pois-surfspots [data-id].spot-rank-3,.zoom18 .pois-kitespots [data-id].spot-rank-3{font-size:1.6em}.pois-firespots [data-id].spot-rank-4,.pois-pgspots [data-id].spot-rank-4,.pois-surfspots [data-id].spot-rank-4,.pois-kitespots [data-id].spot-rank-4,.pois-firespots [data-id].spot-rank-5,.pois-pgspots [data-id].spot-rank-5,.pois-surfspots [data-id].spot-rank-5,.pois-kitespots [data-id].spot-rank-5{z-index:10}.zoom4 .pois-firespots [data-id].spot-rank-4,.zoom4 .pois-pgspots [data-id].spot-rank-4,.zoom4 .pois-surfspots [data-id].spot-rank-4,.zoom4 .pois-kitespots [data-id].spot-rank-4,.zoom4 .pois-firespots [data-id].spot-rank-5,.zoom4 .pois-pgspots [data-id].spot-rank-5,.zoom4 .pois-surfspots [data-id].spot-rank-5,.zoom4 .pois-kitespots [data-id].spot-rank-5,.zoom5 .pois-firespots [data-id].spot-rank-4,.zoom5 .pois-pgspots [data-id].spot-rank-4,.zoom5 .pois-surfspots [data-id].spot-rank-4,.zoom5 .pois-kitespots [data-id].spot-rank-4,.zoom5 .pois-firespots [data-id].spot-rank-5,.zoom5 .pois-pgspots [data-id].spot-rank-5,.zoom5 .pois-surfspots [data-id].spot-rank-5,.zoom5 .pois-kitespots [data-id].spot-rank-5,.zoom6 .pois-firespots [data-id].spot-rank-4,.zoom6 .pois-pgspots [data-id].spot-rank-4,.zoom6 .pois-surfspots [data-id].spot-rank-4,.zoom6 .pois-kitespots [data-id].spot-rank-4,.zoom6 .pois-firespots [data-id].spot-rank-5,.zoom6 .pois-pgspots [data-id].spot-rank-5,.zoom6 .pois-surfspots [data-id].spot-rank-5,.zoom6 .pois-kitespots [data-id].spot-rank-5,.zoom7 .pois-firespots [data-id].spot-rank-4,.zoom7 .pois-pgspots [data-id].spot-rank-4,.zoom7 .pois-surfspots [data-id].spot-rank-4,.zoom7 .pois-kitespots [data-id].spot-rank-4,.zoom7 .pois-firespots [data-id].spot-rank-5,.zoom7 .pois-pgspots [data-id].spot-rank-5,.zoom7 .pois-surfspots [data-id].spot-rank-5,.zoom7 .pois-kitespots [data-id].spot-rank-5{font-size:1.4em}.zoom8 .pois-firespots [data-id].spot-rank-4,.zoom8 .pois-pgspots [data-id].spot-rank-4,.zoom8 .pois-surfspots [data-id].spot-rank-4,.zoom8 .pois-kitespots [data-id].spot-rank-4,.zoom8 .pois-firespots [data-id].spot-rank-5,.zoom8 .pois-pgspots [data-id].spot-rank-5,.zoom8 .pois-surfspots [data-id].spot-rank-5,.zoom8 .pois-kitespots [data-id].spot-rank-5,.zoom9 .pois-firespots [data-id].spot-rank-4,.zoom9 .pois-pgspots [data-id].spot-rank-4,.zoom9 .pois-surfspots [data-id].spot-rank-4,.zoom9 .pois-kitespots [data-id].spot-rank-4,.zoom9 .pois-firespots [data-id].spot-rank-5,.zoom9 .pois-pgspots [data-id].spot-rank-5,.zoom9 .pois-surfspots [data-id].spot-rank-5,.zoom9 .pois-kitespots [data-id].spot-rank-5{font-size:1.6em}.zoom10 .pois-firespots [data-id].spot-rank-4,.zoom10 .pois-pgspots [data-id].spot-rank-4,.zoom10 .pois-surfspots [data-id].spot-rank-4,.zoom10 .pois-kitespots [data-id].spot-rank-4,.zoom10 .pois-firespots [data-id].spot-rank-5,.zoom10 .pois-pgspots [data-id].spot-rank-5,.zoom10 .pois-surfspots [data-id].spot-rank-5,.zoom10 .pois-kitespots [data-id].spot-rank-5,.zoom11 .pois-firespots [data-id].spot-rank-4,.zoom11 .pois-pgspots [data-id].spot-rank-4,.zoom11 .pois-surfspots [data-id].spot-rank-4,.zoom11 .pois-kitespots [data-id].spot-rank-4,.zoom11 .pois-firespots [data-id].spot-rank-5,.zoom11 .pois-pgspots [data-id].spot-rank-5,.zoom11 .pois-surfspots [data-id].spot-rank-5,.zoom11 .pois-kitespots [data-id].spot-rank-5,.zoom12 .pois-firespots [data-id].spot-rank-4,.zoom12 .pois-pgspots [data-id].spot-rank-4,.zoom12 .pois-surfspots [data-id].spot-rank-4,.zoom12 .pois-kitespots [data-id].spot-rank-4,.zoom12 .pois-firespots [data-id].spot-rank-5,.zoom12 .pois-pgspots [data-id].spot-rank-5,.zoom12 .pois-surfspots [data-id].spot-rank-5,.zoom12 .pois-kitespots [data-id].spot-rank-5,.zoom13 .pois-firespots [data-id].spot-rank-4,.zoom13 .pois-pgspots [data-id].spot-rank-4,.zoom13 .pois-surfspots [data-id].spot-rank-4,.zoom13 .pois-kitespots [data-id].spot-rank-4,.zoom13 .pois-firespots [data-id].spot-rank-5,.zoom13 .pois-pgspots [data-id].spot-rank-5,.zoom13 .pois-surfspots [data-id].spot-rank-5,.zoom13 .pois-kitespots [data-id].spot-rank-5,.zoom14 .pois-firespots [data-id].spot-rank-4,.zoom14 .pois-pgspots [data-id].spot-rank-4,.zoom14 .pois-surfspots [data-id].spot-rank-4,.zoom14 .pois-kitespots [data-id].spot-rank-4,.zoom14 .pois-firespots [data-id].spot-rank-5,.zoom14 .pois-pgspots [data-id].spot-rank-5,.zoom14 .pois-surfspots [data-id].spot-rank-5,.zoom14 .pois-kitespots [data-id].spot-rank-5,.zoom15 .pois-firespots [data-id].spot-rank-4,.zoom15 .pois-pgspots [data-id].spot-rank-4,.zoom15 .pois-surfspots [data-id].spot-rank-4,.zoom15 .pois-kitespots [data-id].spot-rank-4,.zoom15 .pois-firespots [data-id].spot-rank-5,.zoom15 .pois-pgspots [data-id].spot-rank-5,.zoom15 .pois-surfspots [data-id].spot-rank-5,.zoom15 .pois-kitespots [data-id].spot-rank-5,.zoom16 .pois-firespots [data-id].spot-rank-4,.zoom16 .pois-pgspots [data-id].spot-rank-4,.zoom16 .pois-surfspots [data-id].spot-rank-4,.zoom16 .pois-kitespots [data-id].spot-rank-4,.zoom16 .pois-firespots [data-id].spot-rank-5,.zoom16 .pois-pgspots [data-id].spot-rank-5,.zoom16 .pois-surfspots [data-id].spot-rank-5,.zoom16 .pois-kitespots [data-id].spot-rank-5,.zoom17 .pois-firespots [data-id].spot-rank-4,.zoom17 .pois-pgspots [data-id].spot-rank-4,.zoom17 .pois-surfspots [data-id].spot-rank-4,.zoom17 .pois-kitespots [data-id].spot-rank-4,.zoom17 .pois-firespots [data-id].spot-rank-5,.zoom17 .pois-pgspots [data-id].spot-rank-5,.zoom17 .pois-surfspots [data-id].spot-rank-5,.zoom17 .pois-kitespots [data-id].spot-rank-5,.zoom18 .pois-firespots [data-id].spot-rank-4,.zoom18 .pois-pgspots [data-id].spot-rank-4,.zoom18 .pois-surfspots [data-id].spot-rank-4,.zoom18 .pois-kitespots [data-id].spot-rank-4,.zoom18 .pois-firespots [data-id].spot-rank-5,.zoom18 .pois-pgspots [data-id].spot-rank-5,.zoom18 .pois-surfspots [data-id].spot-rank-5,.zoom18 .pois-kitespots [data-id].spot-rank-5{font-size:2em}.kitespots-popup,.surfspots-popup,.pgspots-popup{max-width:inherit}.kitespots-popup p,.surfspots-popup p,.pgspots-popup p{margin:3px 0}.kitespots-popup p .popularity,.surfspots-popup p .popularity,.pgspots-popup p .popularity{position:relative;display:inline-block;top:.15em;letter-spacing:.3em}.kitespots-popup small,.surfspots-popup small,.pgspots-popup small{font-size:9px;opacity:.8}.surfspots-popup .leaflet-popup-content{max-width:200px}.surfspots-popup img{filter:invert(100%);-webkit-filter:invert(100%)}.surfspots-popup .pois-surfguide{text-align:right}.surfspots-popup .pois-surfguide img{width:80%;opacity:.8}.surfspots-popup .surficons{margin:.8em 0;position:relative}.surfspots-popup .surficons .surfspot-max{position:absolute;left:0;top:0}.surfspots-popup .surficons img{width:25px;margin-right:.5em;display:inline-block}.kitespots-popup{width:200px}.pois-cams{z-index:100}.pois-cams [data-id]{font-size:11px;color:#ffe29c;text-shadow:0 0 4px black}.pois-cams [data-id].cam-is-fresh{color:lightgreen}.pois-cams [data-id].cam-is-obsolete{color:lightgray}.cams-popup{width:200px;max-width:200px;padding:0}.cams-popup img{width:200px}.cams-popup img+div{line-height:1;position:relative;padding:0 .7em .3em .7em}.cams-popup img+div::before{top:.1em;left:-0.1em;margin-right:0}.leaflet-empty-popup .leaflet-popup-content-wrapper{color:#f8f8f8}", "", function (o) {
	! function (o, t, s, i, a, p, e, d, r, n, m, l, f, u, k, z, c) {
		"use strict";
		o = o && o.hasOwnProperty("default") ? o.default : o, t = t && t.hasOwnProperty("default") ? t.default : t, s = s && s.hasOwnProperty("default") ? s.default : s, i = i && i.hasOwnProperty("default") ? i.default : i, a = a && a.hasOwnProperty("default") ? a.default : a, p = p && p.hasOwnProperty("default") ? p.default : p, e = e && e.hasOwnProperty("default") ? e.default : e, d = d && d.hasOwnProperty("default") ? d.default : d, r = r && r.hasOwnProperty("default") ? r.default : r, n = n && n.hasOwnProperty("default") ? n.default : n, m = m && m.hasOwnProperty("default") ? m.default : m, l = l && l.hasOwnProperty("default") ? l.default : l, f = f && f.hasOwnProperty("default") ? f.default : f, u = u && u.hasOwnProperty("default") ? u.default : u, k = k && k.hasOwnProperty("default") ? k.default : k, z = z && z.hasOwnProperty("default") ? z.default : z, c = c && c.hasOwnProperty("default") ? c.default : c;
		var h = t.instance({
				ident: "cities",
				pluginIdent: "detail",
				minZoom: 5,
				popupOffset: [20, -15],
				deactivate: function () {
					t.deactivate.call(this), d.updateLabels()
				},
				download: function () {
					var o = this;
					i(function (t) {
						if (o.interpolate = t.bind(i), o.ovrIdent = a.get("overlay"), o.overlay = p[o.ovrIdent], o.lastUrl = null, o.overlay.poiInCities) {
							var s = o.getDataArray();
							o.onloaded(o.syncCounter, e.map, {
								data: {
									items: 6,
									data: s
								}
							})
						} else o.delete()
					})
				},
				onloaded: function (o, t, i) {
					var a = i.data;
					a && a.data && a.data.length && a.items && o === this.syncCounter && (this.items = a.items, this.data = a.data, this.formatDir = s.getDirFunction(), this.prevZoom !== t.zoom && (this.deleteNonVisible(), this.prevZoom = t.zoom), this.render())
				},
				deleteNonVisible: function () {
					for (var o = {}, t = this.data.length, s = 0; s < t; s += this.items) o[this.data[s]] = !0;
					for (var i in this.markers) i in o || this.deleteMarker(i)
				},
				getDataArray: function () {
					for (var o = d.toArray(), t = e.map, s = t.north, i = t.east, a = t.south, p = t.west, r = [], m = function (o, t) {
							return t > p && t < i && o < s && o > a
						}, l = 0; l < o.length; l++) {
						var f = o[l],
							u = f.id,
							k = f.el,
							z = u.split("/"),
							c = z[0],
							h = z[1];
						m(+c, +h) && r.push(u, +c, +h, !1, null, k)
					}
					var g = n.getAll();
					for (var v in g) {
						var y = g[v],
							b = y.lat,
							w = y.lon,
							x = y.name;
						m(+b, +w) && r.push(v, +b, +w, !0, x, null)
					}
					return r
				},
				render: function () {
					var o = this.data,
						t = "",
						s = o.length;
					if (!this.cancelRqstd) {
						0;
						for (var i = 0; i < s; i += this.items) {
							var a = o[i],
								p = o[i + 1],
								e = o[i + 2],
								d = o[i + 3],
								r = o[i + 4],
								n = o[i + 5],
								m = {
									lat: p,
									lon: e
								},
								l = this.interpolate(m),
								f = this.getPayload(l);
							d ? t += this.displayFav(a, m, r, f) : this.displayCity(a, f, n)
						}
						this.layer.addPois(t, this.markers)
					}
				},
				hasPayload: function (o) {
					return o && (o.html || o.attrs)
				},
				displayCity: function (o, t, s) {
					this.hasPayload(t) ? s.innerHTML = s.dataset.label + '<div class="label-wx" ' + (t.attrs ? t.attrs.join(" ") : "") + ">" + (t.html || "") + "</div>" : s.innerHTML = s.dataset.label
				},
				displayFav: function (o, t, s, i) {
					var a;
					if (this.hasPayload(i)) {
						i.attrs && i.attrs.push('data-text="' + s + '"');
						var p = L.latLng(t.lat, t.lon);
						a = this.layer.getHtml(o, p, i)
					}
					return o in this.markers ? (a ? this.layer.replaceMarker(o, a) : this.deleteMarker(o), "") : a ? (this.markers[o] = t, a) : ""
				},
				getPayload: function (o) {
					if (!o || o < 0) return null;
					switch (this.ovrIdent) {
						case "wind":
							return this.wx2html(r.wind2obj(o));
						case "ptype":
							return o[0] < .1 ? null : this.wx2html(o[1]);
						case "rain":
							if (o[0] < .1) return null
					}
					return this.wx2html(o[0], o)
				},
				wx2html: function (o) {
					if ("wind" === this.ovrIdent) {
						var t = Math.round(this.overlay.convertNumber(o.wind)) + (o.gust ? ", g:" + Math.round(this.overlay.convertNumber(o.gust)) : ""),
							s = r.windDir2html(o),
							i = ['data-value="' + t + '"'];
						return s && i.push('class="poi-has-wind"'), {
							style: "background-color: " + this.overlay.c.colorDark(o.wind, 20) + ";",
							attrs: i,
							html: s
						}
					}
					if ("number" == typeof o) {
						var a;
						switch (this.ovrIdent) {
							case "clouds":
							case "mclouds":
							case "hclouds":
							case "lclouds":
							case "rh":
								a = parseInt(o) + "%";
								break;
							case "temp":
							case "dewpoint":
								a = this.overlay.convertNumber(o) + "Â°";
								break;
							default:
								a = this.overlay.convertNumber(o)
						}
						return {
							style: "background-color:" + this.overlay.c.colorDark(o, 20),
							attrs: ['data-value="' + a + '"']
						}
					}
					return {}
				},
				redraw: function (o) {
					void 0 === o && (o = !1), this.cancel(), o && this.delete(), this.download()
				}
			}),
			g = L.GridLayer.extend({
				tiledPoi: null,
				hasHooks: !1,
				hidePoisOnMove: e.isMobileOrTablet,
				dataTiles: {},
				canvasTiles: {},
				syncCounter: 0,
				initialize: function (o, t) {
					L.setOptions(this, t), this.tiledPoi = o, this.ident = o.ident
				},
				createTile: function (o, t) {
					var s = document.createElement("div");
					o = this._wrapCoords(o);
					var i = "/pois/" + this.ident + "/tiles/" + o.z + "/" + o.x + "/" + o.y;
					return f.get(i).then(this.onTileLoaded.bind(this, this.syncCounter, o, s)).then(function (o) {
						o && t(void 0, s)
					}).catch(t), s
				},
				_initContainer: function () {
					this.displayed = !0, this._markers = {}, L.GridLayer.prototype._initContainer.call(this)
				},
				onAdd: function () {
					L.GridLayer.prototype.onAdd.call(this), this._map && (this._map.on("zoomstart", this.hidePois, this), this._map.on("movestart", this.onMoveStart, this), this._map.on("moveend", this.onMoveEnd, this))
				},
				hidePois: function () {
					this._removeAllTiles(), this.resetCachesDivs()
				},
				onMoveStart: function () {
					this.hidePoisOnMove && this.containerDisplay(!1)
				},
				onMoveEnd: function () {
					this.hidePoisOnMove && this.containerDisplay(!0)
				},
				_animateZoom: function () {},
				containerDisplay: function (o) {
					this._container && (this._container.style.display = o ? "block" : "none")
				},
				onRemove: function (o) {
					this._removeAllTiles(), this.resetCachesDivs(), this.removeFromParent(this._container), o._removeZoomLimit(this), this._container = null, this._tileZoom = void 0, o && (o.off("zoomstart", this.hidePois, this), o.off("movestart", this.onMoveStart, this), o.off("moveend", this.onMoveEnd, this))
				},
				resetCachesDivs: function () {
					this.syncCounter++, this._tiles = {}, this.dataTiles = {}, this.canvasTiles = {}, this._tilesToLoad = 0
				},
				_reset: function () {
					this._removeAllTiles(), this.resetCachesDivs(), this.redraw()
				},
				onTileLoaded: function (o, t, s, i) {
					200 === i.status && o === this.syncCounter && i.data && i.data.data && i.data.data.length && this.renderTile(s, t, i.data)
				},
				getCanvasTile: function (o, t) {
					var s = this._tileCoordsToKey(t),
						i = this.canvasTiles[s],
						a = this.options.tileSize + 1;
					return i || ((i = L.DomUtil.create("canvas", "leaflet-tile")).width = i.height = a, i.style.width = i.style.height = a + "px", i.style[L.DomUtil.TRANSFORM] = o.style[L.DomUtil.TRANSFORM], i.style.left = o.style.left, i.style.top = o.style.top, o.parentNode.insertBefore(i, o), this.canvasTiles[s] = i), i
				},
				renderTile: function (o, t, s) {
					var i, a, p = s.data,
						e = s.items,
						d = p.length,
						n = 1 / (1 << t.z),
						m = n / 256,
						l = t.x * n,
						f = t.y * n,
						u = null;
					o.style.width = o.style.height = "auto";
					for (var k = 0; k < d; k += e) {
						var z = p[k + 1],
							c = p[k + 2];
						this.tiledPoi.doRenderPoiAsDiv(t.z, p, k) ? ((i = document.createElement("div")).dataset.id = p[k], i.dataset.lat = r.unitYToLatDeg(f + m * p[k + 2]), i.dataset.lon = r.unitXToLonDeg(l + m * p[k + 1]), i.dataset.poi = this.ident, i.style.transform = "translate(" + z + "px, " + c + "px)", this.tiledPoi.updateElement(i, p, k), o.appendChild(i)) : (u || ((a = (u = this.getCanvasTile(o, t)).getContext("2d")).fillStyle = this.tiledPoi.color, a.clearRect(0, 0, u.width, u.height)), this.tiledPoi.drawPoint(a, z, c, p, k))
					}
					o.classList.add("leaflet-tile-loaded"), u && u.classList.add("leaflet-tile-loaded")
				},
				removeFromParent: function (o) {
					var t = o && o.parentNode;
					t && t.removeChild(o)
				},
				_removeTile: function (o) {
					var t = this._tiles[o],
						s = this.canvasTiles[o];
					t && (this.removeFromParent(t.el), this.removeFromParent(s), delete this._tiles[o], delete this.canvasTiles[o], delete this.dataTiles[o])
				}
			}),
			v = g.extend({
				onTileLoaded: function (o, t, s, i) {
					200 === i.status && o === this.syncCounter && i.data && i.data.data && i.data.data.length && (this.renderTile(s, t, i.data), this.updateTileIcons(s, i.data), this.dataTiles[this._tileCoordsToKey(t)] = i.data)
				},
				updateTiles: function () {
					var o = this._tiles,
						t = this.dataTiles;
					for (var s in t) t.hasOwnProperty(s) && o.hasOwnProperty(s) && this.updateTileIcons(o[s], t[s])
				},
				updateTileIcons: function (o, t) {
					var s, i, a, p = "forecast" === t.type,
						e = t.data,
						d = t.items,
						r = e.length;
					if (p)
						for (s = 0; s < r; s += d)(i = c('[data-id="' + e[s] + '"]', o.el)) && (a = this.tiledPoi.getIconHtml(e, s, d), i.innerHTML = a)
				}
			}),
			y = l.extend({
				minZoom: 4,
				maxZoom: 18,
				spotZoom: 0,
				color: "#ffe29c",
				pluginIdent: "detail",
				popupOffset: [20, -15],
				ident: "empty",
				events: ["onmouseover", "onmouseout"],
				_init: function () {
					var o = {
						pane: "markerPane",
						className: "windy-pois pois-" + this.ident + " leaflet-zoom-hide",
						minZoom: this.minZoom,
						maxZoom: this.maxZoom,
						updateWhenIdle: !0,
						updateWhenZooming: !1,
						keepBuffer: e.isMobileOrTablet ? 1 : 2
					};
					"tide" === this.ident ? this.layer = new v(this, o) : this.layer = new g(this, o), this.prevZoom = 0, this.isActive = !1, this.syncCounter = 0, this.latestLoaded = {}
				},
				activate: function () {
					var o = this;
					this.isActive = !0, u.addLayer(this.layer), this.events.forEach(function (t) {
						return o.layer._container[t] = o.event.bind(o, t)
					}), this.formatDir = s.getDirFunction(), z.on("poi-" + this.ident, this.onclick, this)
				},
				deactivate: function () {
					this.isActive = !1, this.lastUrl = null, z.off("poi-" + this.ident, this.onclick, this), u.removeLayer(this.layer)
				},
				updateElement: function () {},
				renderPopup: function () {},
				event: function (o, t) {
					var s = t && t.target && t.target.dataset;
					s.id && this[o](s.id, +s.lat, +s.lon, s, t), t && t.stopPropagation()
				},
				onmouseover: function (o, t, s) {
					if (o) {
						this.requiredID = o;
						var i = L.latLng(t, s);
						this.loadingPromise = f.get("/pois/" + this.ident + "/" + o).then(this.onmouseLoaded.bind(this, o, i))
					}
				},
				onclick: function (o, t) {
					var s = t.id,
						i = t.lat,
						a = t.lon;
					if (this.pluginIdent) {
						var p = {
							id: s,
							lat: i,
							lon: a,
							source: "poi-icon",
							poiType: this.ident,
							name: this.latestLoaded && this.latestLoaded.id == s && this.latestLoaded.data && this.latestLoaded.data.name || void 0
						};
						this.pluginIdent && m.emit("rqstOpen", this.pluginIdent, p)
					}
				},
				onmouseout: function () {
					this.requiredID = null, this.openedPopup && (u.removeLayer(this.openedPopup), this.openedPopup = null)
				},
				onmouseLoaded: function (o, t, s) {
					var i = s.data;
					if (i && this.requiredID === o) {
						this.requiredID = null, this.loadingPromise = null, this.latestLoaded = {
							id: o,
							data: i
						}, i.lat && i.lon && (t = L.latLng(i.lat, i.lon));
						var a = this.renderPopup(o, i);
						a && (this.openedPopup = L.popup({
							className: "leaflet-empty-popup " + this.ident + "-popup",
							offset: this.popupOffset,
							closeButton: !1,
							minWidth: 200,
							autoPan: !1
						}).setLatLng(t).setContent(a).openOn(u))
					}
				},
				updateElementFromNumber: function (o, t) {
					var s;
					switch (this.ovrIdent) {
						case "clouds":
						case "mclouds":
						case "hclouds":
						case "lclouds":
						case "rh":
							s = parseInt(t) + "%";
							break;
						case "temp":
						case "dewpoint":
							s = this.overlay.convertNumber(t) + "Â°";
							break;
						default:
							s = this.overlay.convertNumber(t)
					}
					o.style.backgroundColor = this.overlay.c.colorDark(t, 20), o.dataset.value = s
				},
				updateElementFromParams: function (o, t) {
					var s = Math.round(this.overlay.convertNumber(t.wind)) + (t.gust ? ", g:" + Math.round(this.overlay.convertNumber(t.gust)) : ""),
						i = r.windDir2html(t);
					o.dataset.value = s, o.style.backgroundColor = this.overlay.c.colorDark(t.wind, 20), o.className = "poi-has-wind", o.innerHTML = i
				},
				wx2string: function (o) {
					var t = "",
						s = !1;
					return "number" == typeof o.wind && (t = p.wind.convertValue(o.wind), s = o.wind > .5), "<b>" + (r.hasDirection(o) ? this.formatDir(o.dir) + " / " : "") + (null !== o.dir && "VAR" !== o.dir || !s ? "" : k.METAR_VAR + " ") + t + ("number" == typeof o.gust ? ", g:" + p.wind.convertValue(o.gust) : "") + ("number" == typeof o.temp ? ("number" == typeof o.wind ? ", " : "") + p.temp.convertValue(o.temp + 273.15) : "") + "</b>"
				},
				renderPopularity: function (o) {
					return "number" != typeof o ? "" : '<p>Popularity: <span class="popularity iconfont">\n\t\t' + [0, 1, 2, 3, 4, 5].map(function (t) {
						return o <= t ? "u" : "o"
					}).join("") + "\n\t\t</span></p>"
				},
				doRenderPoiAsDiv: function (o) {
					return o >= this.spotZoom
				},
				drawPoint: function (o, t, s) {
					o.fillRect(t, s, 2, 2)
				},
				redraw: function (o) {
					void 0 === o && (o = !1), o && this.layer && this.layer._reset()
				}
			}),
			b = y.instance({
				ident: "metars",
				pluginIdent: "airport",
				className: "metars",
				renderPopup: function (o, t) {
					var i = t.flight_category || null;
					return "<b>" + o + "</b>\n\t\t\t" + (i ? '&nbsp;<span class="adtype' + i + '"></span>' : "") + "\n\t\t\t" + (t.diff ? "<small>" + s.howOld({
						diffMin: t.diff,
						translate: !0
					}) + "</small>" : "") + "\n\t\t\t" + (t.name && t.name !== o ? "<p>" + t.name.substring(0, 35) + "</p>" : "<br />") + "\n\t\t\t" + (t.metar ? t.metar.replace(/^\w\w\w\w\s/, "").replace(/=$/, "") + "<br />" : "") + "\n\t\t\t<small>click for AD info, tafs, notams, webcams</small>"
				},
				updateElement: function (o, t, s) {
					t[s + 4] && "U" === t[s + 3] || (o.className = "rules" + t[s + 3])
				},
				onclick: function (o, t) {
					var s = t.id;
					m.emit("rqstOpen", "airport", {
						icao: s,
						source: "poi-icon"
					})
				}
			}),
			w = y.instance({
				ident: "tide",
				spotZoom: 4,
				pluginIdent: "tides",
				tidesDataStep: 3,
				forecasts: {},
				type2text: {
					HT: "High Tide",
					LT: "Low Tide",
					ME: "Max Ebb",
					MF: "Max Flood",
					NE: "Min Ebb",
					NF: "Min Flood",
					SE: "Slack, Ebb Begins",
					SF: "Slack, Flood Begins",
					FT: "Flood tide",
					ET: "Ebb tide"
				},
				activate: function () {
					y.activate.call(this), this.now = a.get("timestamp") / 1e3, a.on("timestamp", this.onTsChange, this)
				},
				deactivate: function () {
					y.deactivate.call(this), a.off("timestamp", this.onTsChange, this)
				},
				onTsChange: function (o) {
					u.getZoom() >= this.spotZoom && (this.now = o / 1e3, this.layer.updateTiles())
				},
				doRenderPoiAsDiv: function (o, t, s) {
					var i = t[s + 3];
					return i && i.constructor === Array
				},
				isSlack: function (o) {
					return "S" === o.charAt(0)
				},
				getIconHtml: function (o, t, s) {
					o: if (4 === s) {
						var i = o[t + 3],
							a = this.getIndex(i, this.now);
						if (a < 0 || a > i.length - this.tidesDataStep - 2) break o;
						var p, e, d, n, m = i[a],
							l = i[a + this.tidesDataStep],
							f = i[a + 1],
							u = i[a + 1 + this.tidesDataStep],
							k = !/HT|LT/.test(f),
							z = /HT|ME|MF/.test(f),
							c = (k ? .3 : .15) * (l - m),
							h = m + c,
							g = l - c,
							v = parseInt(100 * r.bound((this.now - h) / (g - h), 0, 1));
						if (z && (v = 100 - v), k) {
							var y = this.isSlack(f),
								b = this.isSlack(u);
							n = this.now < h && y ? "S" : this.now > g && b ? "S" : y && !b ? u.charAt(1) : f.charAt(1), p = "#006400", e = "#af8212"
						} else this.now < h ? n = f.charAt(0) : this.now > g ? n = u.charAt(0) : d = z ? 4 : 3, p = "#8e680f", e = "#3e6cbf";
						return "<div " + (d ? 'class="iconfont"' : "") + '\n\t\t\t\t\t\tstyle="background: linear-gradient(to top, ' + e + " 0%, " + e + " " + v + "%, " + p + " " + v + "%, " + p + ' 100%);"\n\t\t\t\t\t\t>' + (d || n) + "</div>"
					}return '<div class="iconfont" style="background: #3e6cbf;">q</div>'
				},
				getIndex: function (o, t) {
					for (var s = 0; s < o.length - this.tidesDataStep; s += this.tidesDataStep)
						if (o[s] < t && o[s + this.tidesDataStep] >= t) return s;
					return -1
				},
				toLocalTime: function (o, t, s) {
					var i = new Date(o + 3600 * t * 1e3);
					return s(i.getUTCHours(), i.getUTCMinutes())
				},
				getValue: function (o, t) {
					return o.tide ? Math.floor(3.28 * t) + "ft, " + t + "m" : t + "kt"
				},
				renderPopupContent: function (o) {
					var t = o.tides,
						i = this.getIndex(t, Date.now() / 1e3),
						a = "",
						p = s.getHoursFunction();
					if (i < 0) return "";
					for (var e = i; e < i + 3 * this.tidesDataStep; e += this.tidesDataStep) {
						var d = 1e3 * t[e],
							r = s.howOld({
								ts: d,
								translate: !1,
								useAgo: !0
							}),
							n = t[e + 1],
							m = t[e + 2],
							l = this.getValue(o, m);
						a += '<div class="tide-line tide-type-' + n + '"><b>' + this.toLocalTime(d, o.TZoffset, p) + "</b>\n\t\t\t\t" + this.type2text[n] + " " + r + ", " + l + "\n\t\t\t\t</div>"
					}
					return a
				},
				renderPopup: function (o, t) {
					var s = "<header>" + t.name + "</header>";
					return s += this.renderPopupContent(t), s += "<small>" + (t.tide ? "Tide" : "Flood") + " " + (t.reference ? "reference " : "") + "station at " + t.lat + ", " + t.lon + "<br />\n\t\t\t\t\t\tTimezone: " + t.TZname + " " + t.TZoffsetFormatted + "</small>"
				}
			}),
			x = y.instance({
				ident: "cams",
				pluginIdent: "webcams-detail",
				renderPopup: function (o, t) {
					return '<img src="' + t.img + '"><div class="fresh-title ' + this.camClass(t.diff) + '">\n\t\t\t\t' + s.howOld({
						diffMin: t.diff,
						translate: !0
					}) + "</div>"
				},
				camClass: function (o) {
					return o < 10 ? "fresh" : o < 30 ? "normal" : "obsolete"
				},
				updateElement: function (o, t, s) {
					o.className = "iconfont cam-is-" + this.camClass(t[s + 3]), o.dataset.diff = "" + t[s + 3], o.dataset.img = "https://images-webcams.windy.com/" + String(t[s]).slice(-2) + "/" + t[s] + "/current/thumbnail/" + t[s] + ".jpg", o.innerHTML = "l"
				},
				onmouseover: function (o, t, s, i) {
					this.requiredID = o;
					var a = {
							id: o,
							lat: t,
							lon: s,
							img: i.img,
							diff: +i.diff
						},
						p = L.latLng(t, s);
					this.onmouseLoaded(o, p, {
						data: a
					})
				}
			}),
			P = y.extend({
				ident: "stations",
				pluginIdent: "station",
				type2type: {
					ad: "airport",
					wmo: "wmo station",
					dbuoy: "drifting buoy"
				},
				renderPopup: function (o, t) {
					return "<small>" + (this.type2type[t.type] || t.type) + ": " + s.howOld({
						diffMin: t.diff,
						translate: !0
					}) + "\n\t\t\t</small><br />" + (t.name ? t.name.substring(0, 28) : "") + "<br />" + this.wx2string(t)
				},
				drawPixel: function (o, t, s, i) {
					o.fillStyle = this.overlay.c.colorDark(i, 50), o.fillRect(t - 1, s - 1, 4, 4), o.fillStyle = "white", o.fillRect(t - 1, s - 1, 1, 1)
				}
			}),
			T = P.instance({
				overlay: p.temp,
				ovrIdent: "temp",
				updateElement: function (o, t, s) {
					"number" == typeof t[s + 5] && this.updateElementFromNumber(o, 273 + t[s + 5])
				},
				doRenderPoiAsDiv: function (o, t, s) {
					return t[s + 6] && "number" == typeof t[s + 5]
				},
				drawPoint: function (o, t, s, i, a) {
					"number" == typeof i[a + 5] && this.drawPixel(o, t, s, 273 + i[a + 5])
				}
			}),
			D = P.instance({
				overlay: p.wind,
				ovrIdent: "wind",
				updateElement: function (o, t, s) {
					"number" == typeof t[s + 3] && this.updateElementFromParams(o, {
						wind: .1 * t[s + 3],
						dir: t[s + 4]
					})
				},
				doRenderPoiAsDiv: function (o, t, s) {
					return t[s + 6] && "number" == typeof t[s + 3]
				},
				drawPoint: function (o, t, s, i, a) {
					"number" == typeof i[a + 3] && this.drawPixel(o, t, s, .1 * i[a + 3])
				}
			}),
			M = y.instance({
				ident: "kitespots",
				icon: "&#xe002;",
				trans: "POI_KITE",
				doRenderPoiAsDiv: function (o, t, s) {
					return t[s + 3] > 0
				},
				updateElement: function (o, t, s) {
					o.className = "iconfont spot-rank-" + (t[s + 3] - 1), o.innerHTML = this.icon
				},
				renderPopup: function (o, t) {
					return "<b>" + t.name + "</b><p>\n\t\t" + this.renderPopularity(t.spotRank) + "\n\t\t<small>Click for wind forecast</small></p>"
				}
			}),
			C = y.instance({
				ident: "pgspots",
				icon: "&#xe009;",
				trans: "POI_PG",
				doRenderPoiAsDiv: function (o, t, s) {
					return t[s + 3] > 0
				},
				updateElement: function (o, t, s) {
					o.className = "iconfont spot-rank-" + (t[s + 3] - 1), o.innerHTML = this.icon
				},
				renderPopup: function (o, t) {
					var s = [];
					r.each(t.orientations, function (o, t) {
						+o && (t = t && t.toUpperCase(), s.push(+o > 1 ? "<b>" + t + "</b>" : t))
					});
					var i = ["paragliding", "hanggliding", "thermals", "soaring", "winch"].filter(function (o) {
						return +t[o]
					}).join(", ");
					return "<p><small>Courtesy of paraglidingearth.com</small></p><b>" + t.name + "</b>\n\t\t\t<p>Elevation: " + t.takeoff_altitude + "m ( " + Math.floor(3.28 * t.takeoff_altitude) + "ft )</p>\n\t\t\t" + (s.length ? "<p>Directions: " + s.join(", ") + "</p>" : "") + "\n\t\t\t" + (i ? "<p>Activities: " + i + "</p>" : "") + "\n\t\t\t" + (t.takeoff_description ? "<p>Takeoff: " + t.takeoff_description + "</p>" : "") + "\n\t\t\t" + this.renderPopularity(t.spotRank) + "\n\t\t\t<p><small>Click for forecast and link to spot detail</small></p>"
				}
			}),
			I = y.instance({
				ident: "surfspots",
				icon: "{",
				trans: "POI_SURF",
				doRenderPoiAsDiv: function (o, t, s) {
					return t[s + 3] > 0
				},
				updateElement: function (o, t, s) {
					o.className = "iconfont spot-rank-" + (t[s + 3] - 1), o.innerHTML = this.icon
				},
				renderPopup: function (o, t) {
					var s = t.icons;
					return '<p class="pois-surfguide"><img src="/img/providers/stormrider-surfguide.svg"></p><b>' + t.name + '</b>\n\n\t\t\t<p class="surficons">' + s.map(function (o) {
						var t = o.icon,
							s = o.alt;
						return '<img src="' + t + '"\n\t\t\t\t\t\t' + (/size_max/.test(t) ? 'class="surfspot-max"' : "") + ' title="' + s + '">'
					}).join("") + "</p>\n\t\t\t<p><small>\n\n\t\t\t\tSwell: " + t.sizemin + "ft - " + t.sizemax + "ft,\n\n\t\t\t" + s.filter(function (o) {
						var t = o.alt;
						return !/swelldirection|Sizem/.test(t)
					}).map(function (o) {
						return o.alt.replace(/\s+/g, "&nbsp;")
					}).join(", ") + "</small></p>\n\t\t\t" + this.renderPopularity(t.spotRank) + "\n\t\t\t<p><small>Click for forecast and link to spot detail</small></p>"
				}
			}),
			O = y.instance({
				ident: "firespots",
				icon: "&#xe033;",
				trans: "ACTIVE_FIRES",
				doRenderPoiAsDiv: function (o, t, s) {
					return t[s + 3] > 0
				},
				updateElement: function (o, t, s) {
					var i = Math.round(1 + 1.3 * t[s + 3]),
						a = r.bound(i, 1, 5);
					o.className = "iconfont spot-rank-" + a, o.innerHTML = this.icon
				},
				renderPopup: function (o, t) {
					return "Intensity " + t.spotRank + ' W/mÂ²\n\t\t<div class="size-xs">Updated: ' + t.update + "<br />Data by Copernicus</div>"
				}
			});
		Object.assign(o, {
			cities: h,
			metars: b,
			tide: w,
			cams: x,
			temp: T,
			wind: D,
			kitespots: M,
			pgspots: C,
			surfspots: I,
			firespots: O
		})
	}(W.require("pois"), W.require("Poi"), W.require("format"), W.require("interpolator"), W.require("store"), W.require("overlays"), W.require("rootScope"), W.require("labelsLayer"), W.require("utils"), W.require("favs"), W.require("broadcast"), W.require("Class"), W.require("http"), W.require("map"), W.require("trans"), W.require("singleclick"), W.require("$"))
});